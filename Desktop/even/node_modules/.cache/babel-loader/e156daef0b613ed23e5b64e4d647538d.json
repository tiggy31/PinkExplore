{"ast":null,"code":"import _slicedToArray from\"/Users/tigistalemu/Desktop/even/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{CssBaseline,Grid}from'@material-ui/core';import Header from'./components/Header/Header';import List from'./components/List/List';import Map from'./components/Map/Map';import{getCatgories}from'./api/index';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cat=_useState2[0],setCat=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),rating=_useState4[0],setRating=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),type=_useState6[0],setType=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),coordinates=_useState8[0],setCoordinates=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),bounds=_useState10[0],setBounds=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),childClicked=_useState12[0],setChildClicked=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isLoading=_useState14[0],setLoading=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),filteredPlaces=_useState16[0],setFilteredPlaces=_useState16[1];useEffect(function(){navigator.geolocation.getCurrentPosition(function(_ref){var _ref$coords=_ref.coords,latitude=_ref$coords.latitude,longitude=_ref$coords.longitude;setLoading(true);setCoordinates({lat:latitude,lng:longitude});setLoading(false);});},[]);useEffect(function(){var _cat$businesses;var filteredPlaces=cat===null||cat===void 0?void 0:(_cat$businesses=cat.businesses)===null||_cat$businesses===void 0?void 0:_cat$businesses.filter(function(place){return Number(place.rating)>rating;});setLoading(true);setFilteredPlaces(filteredPlaces);setLoading(false);},[rating]);useEffect(function(){setLoading(true);if(coordinates.lat&&coordinates.lng){getCatgories(type,coordinates===null||coordinates===void 0?void 0:coordinates.lat,coordinates===null||coordinates===void 0?void 0:coordinates.lng).then(function(data){setCat(data);setFilteredPlaces([]);setLoading(false);});}},[type,coordinates,rating]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(Header,{setCoordinates:setCoordinates}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,style:{width:'100%'},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsx(List,{rating:rating,type:type,setRating:setRating,setType:setType,cat:filteredPlaces!==null&&filteredPlaces!==void 0&&filteredPlaces.length?filteredPlaces:cat,childClicked:childClicked,isLoading:isLoading})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:8,style:{display:'flex',justifyContent:'center',alignItems:'center'},children:/*#__PURE__*/_jsx(Map,{setCoordinates:setCoordinates,coordinates:coordinates,bounds:bounds,setBounds:setBounds,cat:filteredPlaces!==null&&filteredPlaces!==void 0&&filteredPlaces.length?filteredPlaces:cat,setChildClicked:setChildClicked})})]})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","CssBaseline","Grid","Header","List","Map","getCatgories","App","cat","setCat","rating","setRating","type","setType","coordinates","setCoordinates","bounds","setBounds","childClicked","setChildClicked","isLoading","setLoading","filteredPlaces","setFilteredPlaces","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","lat","lng","businesses","filter","place","Number","then","data","width","length","display","justifyContent","alignItems"],"sources":["/Users/tigistalemu/Desktop/even/https:/github.com/tiggy31/PinkExplore/Desktop/even/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { CssBaseline, Grid } from '@material-ui/core';\nimport Header from './components/Header/Header';\nimport List from './components/List/List';\nimport Map from './components/Map/Map';\nimport {getCatgories} from './api/index'\n\n\nconst App = () => {\n\n\n  const [cat,setCat] = useState([])\n  const [rating,setRating] = useState('')\n  const [type,setType] = useState('')\n  const [coordinates,setCoordinates] = useState({})\n  const [bounds,setBounds] = useState(null)\n  const [childClicked,setChildClicked] = useState('')\n  const [isLoading,setLoading] = useState(false)\n  const [filteredPlaces,setFilteredPlaces] = useState([])\n\nuseEffect(() => {\n   navigator.geolocation.getCurrentPosition(({coords: {latitude, longitude}}) => {\n    setLoading(true)\n        setCoordinates({\n          lat: latitude,\n          lng: longitude\n        })\n        setLoading(false)\n   })\n},[])\n\n\n\n  useEffect(() => {\n       const filteredPlaces = cat?.businesses?.filter((place) =>Number(place.rating) > rating)\n            setLoading(true)\n            setFilteredPlaces(filteredPlaces)\n            setLoading(false)\n          \n  },[rating])\n\n  \n\n  useEffect(() => {\n    setLoading(true)\n    if(coordinates.lat && coordinates.lng){\n    \n      getCatgories(type,coordinates?.lat,coordinates?.lng)\n       .then((data) => {\n         setCat(data)\n         setFilteredPlaces([])\n         setLoading(false)\n        \n       })\n    }\n                   \n  },[type,coordinates,rating])\n\n\n  return (\n    <>\n      <CssBaseline />\n      <Header  setCoordinates={setCoordinates}/>\n      <Grid container spacing={3} style={{ width: '100%' }}>\n        <Grid item xs={12} md={4}>\n          <List\n              rating= {rating}\n              type = {type}\n              setRating = {setRating}\n              setType = {setType}\n              cat={filteredPlaces?.length ? filteredPlaces : cat}\n              childClicked={childClicked}\n              isLoading={isLoading}\n          />\n        </Grid>\n        <Grid item xs={12} md={8} style={{ display: 'flex', justifyContent: 'center', alignItems: 'center'}}>\n          <Map\n          setCoordinates = {setCoordinates}\n          coordinates = {coordinates}\n          bounds= {bounds}\n          setBounds = {setBounds}\n          cat={filteredPlaces?.length ? filteredPlaces : cat}\n          setChildClicked = {setChildClicked}\n          />\n        </Grid>\n      </Grid>\n    </>\n  );\n};\n\nexport default App;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}